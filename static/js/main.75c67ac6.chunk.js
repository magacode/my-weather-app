(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{65:function(e,t,a){e.exports=a(93)},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(24),l=a(34),u=a(54),s=a(61),E=a(60),d=function(){return r.a.createElement("div",null,r.a.createElement("div",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),r.a.createElement("div",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0438\u043b\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442"))},m=function(e){Object(s.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isError:!1},e}return Object(u.a)(a,[{key:"componentDidCatch",value:function(){this.setState({isError:!0})}},{key:"render",value:function(){return this.state.isError?r.a.createElement(d,null):this.props.children}}]),a}(n.Component),p=a(121),h=a(130),b=a(131),f=a(42),g=a(127),v=a(15),y=a.n(v),C=a(21),O="b8dd12b10a5e9b631f1d9b511e5e36b3",j=a(55),T=a.n(j).a.create({baseURL:"https://api.openweathermap.org/data/2.5",method:"get"}),W=function e(){Object(l.a)(this,e)};W.getWeatherData=Object(C.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/group",t={id:"524901,703448,2643743",lang:"ru",units:"metric",appid:O},e.abrupt("return",T.get("/group",{params:t}));case 3:case"end":return e.stop()}}),e)}))),W.getWeatherCityData=function(){var e=Object(C.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lat,n=t.lon,"/onecall",r={lat:a,lon:n,lang:"ru",units:"metric",appid:O},e.abrupt("return",T.get("/onecall",{params:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=a(118),_=a(134),H=a(135),F=a(133),k=function(e){var t=e.weather,a=e.onOpen,c=t.coord,o=t.name,i=t.main,l=Object(n.useCallback)((function(){a({coord:c,name:o})}),[c,o,a]);return r.a.createElement(_.a,{onClick:l,button:!0},r.a.createElement(H.a,{primary:o}),r.a.createElement(F.a,{color:"primary",label:Math.round(i.temp)}),"\u2103")},L=function(e){var t=e.weatherList,a=e.onOpen;return r.a.createElement(w.a,{component:"nav","aria-label":"city weather"},null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(k,{key:e.id,weather:e,onOpen:a})})))},R=a(132),S=a(128),x=a(96),A=a(129),U=a(122),I=a(123),D=a(124),Y=a(125),N=a(119),B=a(120),Q=a(126);var J=function(e){var t=e.daily;return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e){var t=e.dt,a=e.temp,n=e.wind_speed,c=e.pressure,o=e.humidity;return r.a.createElement(N.a,{key:t},r.a.createElement(B.a,{component:"th",scope:"row"},function(e){var t=new Date(1e3*e),a=t.getDate(),n=["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"][t.getMonth()],r=t.getFullYear();return"".concat(a," ").concat(n,". ").concat(r)}(t)),r.a.createElement(B.a,{align:"right"},a.day),r.a.createElement(B.a,{align:"right"},n),r.a.createElement(B.a,{align:"right"},c),r.a.createElement(B.a,{align:"right"},o))})))},M=Object(p.a)({table:{minWidth:650}}),q=function(e){var t=e.weatherCity,a=M();return r.a.createElement(U.a,{component:I.a},r.a.createElement(D.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(Y.a,null,r.a.createElement(N.a,null,r.a.createElement(B.a,null,"\u0414\u0430\u0442\u0430"),r.a.createElement(B.a,{align:"right"},"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430\xa0(\u0446)"),r.a.createElement(B.a,{align:"right"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430\xa0(\u043c\u0441)"),r.a.createElement(B.a,{align:"right"},"\u0410\u0442\u043c. \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435\xa0(\u043c\u043c \u0440\u0442.)"),r.a.createElement(B.a,{align:"right"},"\u0412\u043b\u0430\u0436\u043d\u043e\u0442\u044c \xa0(%)"))),r.a.createElement(Q.a,null,r.a.createElement(J,{daily:t.daily}))))},G=Object(i.b)((function(e){return{cityWeather:e.cityWeather.data,isLoading:e.cityWeather.isLoading,isError:e.cityWeather.error}}),(function(e){return{handleFetchCityWeather:function(t){return e((a=t,function(){var e=Object(C.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHER_CITY_REQUEST"}),e.prev=1,e.next=4,W.getWeatherCityData(a);case 4:n=e.sent,r=n.data,t({type:"FETCH_WEATHER_CITY_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_WEATHER_CITY_FAILURE",payload:Boolean(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.cityWeather,a=e.isLoading,c=e.isError,o=e.openedCity,i=e.handleFetchCityWeather;return Object(n.useEffect)((function(){i(o)}),[o,i]),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(g.a,null),c&&r.a.createElement(d,null),!a&&!c&&r.a.createElement(q,{weatherCity:t}))})),P=Object(p.a)((function(e){return{modal:{},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modalInner:{width:"100vw",maxWidth:"750px",height:"500px",maxHeight:"100vh",overflow:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),z=function(e){var t=e.openedCity,a=e.isOpened,n=e.onClose,c=P();return t?r.a.createElement("div",null,r.a.createElement(R.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:a,onClose:n,BackdropComponent:S.a,BackdropProps:{timeout:500},closeAfterTransition:!0},r.a.createElement("div",{className:c.modalInner},r.a.createElement(x.a,{in:a},r.a.createElement("div",{className:c.paper},r.a.createElement("h2",{id:"transition-modal-title"},"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0433. ",t.name),r.a.createElement("span",{id:"transition-modal-description"},"\u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"),r.a.createElement(G,{openedCity:t.coord}),r.a.createElement(A.a,{variant:"contained",color:"secondary",onClick:n},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))))):null},K=Object(i.b)((function(e){return{commonWeather:e.commonWeather.data,isLoading:e.commonWeather.isLoading,isError:e.commonWeather.isError}}),(function(e){return{handleFetchWeather:function(){return e(function(){var e=Object(C.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHER_REQUEST"}),e.prev=1,e.next=4,W.getWeatherData();case 4:a=e.sent,n=a.data,t({type:"FETCH_WEATHER_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_WEATHER_FAILURE",payload:Boolean(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.commonWeather,a=e.isLoading,c=e.isError,o=e.handleFetchWeather,i=Object(n.useState)(null),l=Object(f.a)(i,2),u=l[0],s=l[1],E=Object(n.useState)(!1),m=Object(f.a)(E,2),p=m[0],h=m[1],b=Object(n.useCallback)((function(e){s(e),h(!0)}),[]),v=Object(n.useCallback)((function(){s(null),h(!1)}),[]);return Object(n.useEffect)((function(){o()}),[o]),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(g.a,null),c&&r.a.createElement(d,null),!a&&!c&&r.a.createElement(L,{weatherList:t.list,onOpen:b}),r.a.createElement(z,{isOpened:p,onClose:v,openedCity:u}))})),V=Object(p.a)((function(){return{root:{flexGrow:1}}})),X=function(){var e=V();return r.a.createElement("div",{className:e.root},r.a.createElement(h.a,{maxWidth:"sm"},r.a.createElement(b.a,{container:!0,spacing:3},r.a.createElement(b.a,{item:!0,xs:12},r.a.createElement(K,null)))))},Z=a(20),$=a(59),ee=a(14),te={data:[],isLoading:!1,isError:!1},ae={data:[],isLoading:!1,isError:!1},ne=Object(Z.c)({commonWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_REQUEST":return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_WEATHER_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{data:t.payload,isLoading:!1});case"FETCH_WEATHER_FAILURE":return{isLoading:!1,isError:t.payload};default:return e}},cityWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_CITY_REQUEST":return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_WEATHER_CITY_SUCCESS":return Object(ee.a)(Object(ee.a)({},e),{},{data:t.payload,isLoading:!1});case"FETCH_WEATHER_CITY_FAILURE":return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!1,isError:t.payload});default:return e}}}),re=Object(Z.a)($.a),ce=Object(Z.d)(ne,re),oe=function(){return r.a.createElement(m,null,r.a.createElement(i.a,{store:ce},r.a.createElement(X,null)))};o.a.render(r.a.createElement(oe,null),document.querySelector("#root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.75c67ac6.chunk.js.map